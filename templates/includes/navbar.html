{% load static %}

<style>
    /* 1. STICKY & OVERALL LAYOUT */
    .header-main {
        background-color: #ffffff;
        position: sticky;
        top: 0;
        z-index: 1000;
        box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        padding: 12px 0; /* Reduced padding for a sleeker look */
    }
    .navbar-top-bg { background-color: #3167eb; }
    .navbar-top-bg .nav-link { color: #ffffff !important; font-size: 0.9rem; margin-left: 20px; }

    /* 2. BUTTONS & SEARCH ALIGNMENT */
    .nav-elements-container {
        display: flex;
        align-items: center;
        gap: 15px; /* This controls the professional distance between items */
    }
    
    .btn-nav-custom {
        font-weight: 600;
        white-space: nowrap; /* Prevents text from wrapping */
        height: 45px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* 3. MEGA MENU TWEAKS */
    .dropdown-menu-custom {
        min-width: 850px; 
        border-radius: 15px; 
        border: none; 
        box-shadow: 0 15px 35px rgba(0,0,0,0.2);
    }

    /* 4. SEARCH BAR PROFESSIONAL LOOK */
    .search-group {
        width: 100%;
        max-width: 500px; /* Limits search size so it doesn't look too stretched */
    }
    .form-control-custom {
        height: 45px;
        border: 1px solid #dee2e6;
    }
    .btn-search-custom {
        height: 45px;
        background-color: #3167eb;
        color: white;
        border: none;
        padding: 0 20px;
    }
</style>

<header class="section-header">
    <nav class="navbar p-md-0 navbar-expand-sm navbar-light navbar-top-bg">
        <div class="container">
            <div class="collapse navbar-collapse" id="navbarTop">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown"> Language </a>
                        <ul class="dropdown-menu small">
                            <li><a class="dropdown-item" href="#">English</a></li>
                            <li><a class="dropdown-item" href="#">العربية</a></li>
                        </ul>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li><a href="#" class="nav-link">Contact us</a></li>
                    <li><a href="#" class="nav-link">Customer Support</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <section class="header-main border-bottom">
        <div class="container">
            <div class="row align-items-center">

                <div class="col-lg-2 col-md-3 col-4">
                    <a href="{% url 'home' %}" class="brand-wrap">
                        <img class="logo" src="{% static 'images/logo_swnt-6k.png' %}" style="max-height: 45px;">
                    </a>
                </div>

                <div class="col-lg-7 col-md-6 col-12 d-none d-md-block">
                    <div class="nav-elements-container">
                        
                        <div class="dropdown">
                            <button type="button" class="btn btn-primary btn-nav-custom dropdown-toggle px-3" data-toggle="dropdown">
                                <i class="fa fa-bars mr-2"></i> All category
                            </button>
                            <div class="dropdown-menu dropdown-menu-custom p-4">
                                <div class="row">
                                    {% for category in links %}
                                        {% if not category.parent %}
                                        <div class="col-md-4 mb-4">
                                            <div class="d-flex align-items-center mb-2">
                                                {% if category.image %}
                                                    <img src="{{ category.image.url }}" style="width: 30px; height: 30px; border-radius: 50%; object-fit: cover;">
                                                {% endif %}
                                                <h6 class="mb-0 ml-2">
                                                    <a href="{{ category.get_url }}" class="text-dark">{{ category.category_name }}</a>
                                                </h6>
                                            </div>
                                        </div>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                        </div>

                        <a href="{% url 'store' %}" class="btn btn-outline-primary btn-nav-custom px-3">Our Products</a>

                        <form action="#" class="search-group flex-grow-1">
                            <div class="input-group w-100">
                                <input type="text" class="form-control form-control-custom" placeholder="Search products...">
                                <div class="input-group-append">
                                    <button class="btn btn-search-custom" type="submit">
                                        <i class="fa fa-search"></i>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="col-lg-3 col-md-3 col-8">
                    <div class="d-flex justify-content-end align-items-center">
                        <div class="widget-header mr-3 text-right">
                            <small class="title text-muted">Welcome!</small>
                            <div><a href="#" class="text-dark font-weight-bold">Sign in</a></div>
                        </div>
                        <a href="#" class="widget-header">
                            <div class="icon icon-sm rounded-circle border bg-light text-primary d-flex align-items-center justify-content-center">
                                <i class="fa fa-shopping-cart"></i>
                            </div>
                            <span class="badge badge-pill badge-danger notify" style="position: absolute; top: -5px; right: -5px;">0</span>
                        </a>
                    </div>
                </div>

            </div> </div> </section>
</header>